# バッチ一覧

以下に、ECサイトのフロントおよび管理サイトで稼働する主要バッチ一覧をまとめた表を示します。

## バッチ一覧

| アプリケーション | バッチID   | バッチ名                   | 分類           | スケジュール            | 概要                                                                 | 備考                                 |
|----------------|-----------|---------------------------|--------------|-----------------------|--------------------------------------------------------------------|------------------------------------|
| ECフロント      | BT-001    | カート放棄リマインダー        | マーケティング    | 毎日 02:00             | 24時間カートに放置された未購入アイテムを検知し、リマインドメール送信キューへ投入。          | クーポンコード同梱可能                |
| ECフロント      | BT-002    | 在庫同期バッチ               | データ同期      | 毎時 00分              | 外部倉庫システムから最新在庫情報を取得し、商品在庫テーブルを更新。                            | APIリトライ機能あり                   |
| ECフロント      | BT-003    | レコメンド更新バッチ         | パーソナライズ  | 毎日 03:00             | ユーザー行動ログを集計し、レコメンドモデル学習用データを更新。                                | モデル訓練は別プロセスで実施           |
| 管理サイト      | BT-101    | 日次売上レポート生成バッチ      | レポート        | 毎日 01:00             | 前日の売上データを集計してレポートテーブルに格納。PDF/CSV自動配信の元データとして利用。      | 自動配信設定あり                     |
| 管理サイト      | BT-102    | 在庫アラートバッチ           | オペレーション   | 毎時 30分             | 在庫閾値を下回った商品を抽出し、アラート通知キューへ登録。                                    | 閾値は商品マスタで設定可能             |
| 管理サイト      | BT-103    | 週次新規会員レポートバッチ      | レポート        | 毎週月曜 04:00         | 前週の新規会員登録数・ステータスをレポート用テーブルに格納し、メール配信キューへ投入。         | GDPR対応済                           |
| 管理サイト      | BT-104    | 日次キャンセル集計バッチ       | オペレーション   | 毎日 02:00             | 前日の注文キャンセル件数・理由を集計し、ダッシュボード表示用テーブルへ更新。                  | 理由別集計含む                        |
| 共通           | BT-201    | ログクリーンアップバッチ       | メンテナンス     | 毎日 00:30             | 保存期間（30日）を超過したアプリ・システムログを削除。                                        | S3バックアップ後に実行                 |
| 共通           | BT-202    | メール送信ジョブバッチ         | 通知            | 5分毎                 | メール送信キューに溜まったメールをSMTP/メールAPIで送信。                                      | 失敗時はリトライキューへ再投入         |
| 共通           | BT-203    | キャッシュクリアバッチ         | メンテナンス     | 毎時間                | 古くなったキャッシュエントリを自動削除し、メモリ使用量を最適化。                              | Redis TTL設定と連動                    |